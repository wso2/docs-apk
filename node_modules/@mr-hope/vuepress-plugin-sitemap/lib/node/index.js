"use strict";
const chalk_1 = require("chalk");
const sitemap_1 = require("./sitemap");
module.exports = (options, context) => {
    const { themeConfig } = context;
    return {
        name: "sitemap",
        async generated() {
            const hostname = options.hostname || themeConfig.hostname;
            if (hostname) {
                const option = Object.keys(options).length > 0
                    ? { ...options, hostname }
                    : { ...(themeConfig.sitemap || {}), hostname };
                await sitemap_1.genSiteMap(option, context);
            }
            else
                console.log(chalk_1.blue("Sitemap"), chalk_1.black.bgRed("Error"), 'Not generating sitemap because required "hostname" option doesnâ€™t exist');
        },
        plugins: [["@mr-hope/git", themeConfig.git || true]],
    };
};
//# sourceMappingURL=index.js.map